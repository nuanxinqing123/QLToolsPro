import{_ as e}from"./page-container-94b32927.js";import{c as t}from"./count-animation-3b6c0654.js";import{p as a}from"./p-center-modal-916ba484.js";import{s as l,q as i,t as o}from"./index-9781d2dc.js";import{N as s,r as n,f as u,a4 as r,a6 as p,_ as d,a5 as m,u as c,c as v,L as f,a3 as _,i as b,F as j,a2 as g}from"./@vue-11129043.js";import{n as y}from"./ant-design-vue-93fc40b2.js";import"./pinia-1ca0c29b.js";import"./vue-demi-a81ff0a7.js";import"./store-325aa5d6.js";import"./gsap-fedcb77b.js";import"./_plugin-vue_export-helper-9b9a8a5b.js";import"./axios-93d3568f.js";import"./@babel-eab0ef53.js";import"./qs-8fb0a9f1.js";import"./side-channel-ee547e73.js";import"./get-intrinsic-53528089.js";import"./has-symbols-1f359e75.js";import"./function-bind-c930bb92.js";import"./has-03e8e28c.js";import"./call-bind-566c57e8.js";import"./object-inspect-5c6480f3.js";import"./vue-router-36397834.js";import"./dayjs-c306acb6.js";import"./vue3-colorpicker-e1559e09.js";import"./vue-types-0fd36d85.js";import"./is-plain-object-39134198.js";import"./tinycolor2-e232e212.js";import"./@vueuse-94329f85.js";import"./@aesoper-316802a3.js";import"./vue3-angle-2884cf46.js";import"./gradient-parser-c9367eab.js";import"./lodash-es-0ceb8576.js";import"./@popperjs-31624eb1.js";import"./resize-observer-polyfill-9cd09a67.js";import"./@ant-design-477981d5.js";import"./@ctrl-16df70a4.js";import"./dom-align-6a5270eb.js";import"./async-validator-604317c1.js";import"./scroll-into-view-if-needed-8ce8502d.js";import"./compute-scroll-into-view-cce79123.js";const x={class:"update-container"},h=["innerHTML"],L={class:"flex content-end"},V=d("div",{style:{"line-height":"30px","margin-top":"20px"}}," 服务器架构： ",-1),k=f(" 此操作会覆盖原有内容？ "),w=f("在线更新"),C=f("取消"),O={__name:"update",props:{visible:Boolean,type:String,dataObj:Object},emits:["update:visible","updateData"],setup(e,{expose:t,emit:i}){const o=e,{dataObj:f,type:b,visible:j}=s(o);n("充值");const g=n("amd64"),y=[{value:"arm64",label:"arm64"},{value:"amd64",label:"amd64"}],O=()=>{i("update:visible",!1)};t({close:O,updateData:()=>{i("updateData")}});return(e,t)=>{const i=_("a-divider"),o=_("a-select"),s=_("a-button"),n=_("a-popconfirm");return u(),r(a,{modalVisible:c(j),isFooter:!1,onClose:O,title:"版本更新提示"},{content:p((()=>[d("div",x,[d("ul",null,[d("li",null,"当前版本："+m(c(f).LocVersion),1),d("li",null,"最新版本："+m(c(f).Version),1)]),d("div",{innerHTML:c(f).Update,class:"update-content"},null,8,h),v(i),d("div",L,[V,v(o,{value:g.value,"onUpdate:value":t[0]||(t[0]=e=>g.value=e),options:y,placeholder:"请选择",style:{width:"200px","margin-top":"20px"}},null,8,["value"]),v(n,{placement:"topLeft","ok-text":"确认","cancel-text":"取消",onConfirm:t[1]||(t[1]=e=>{l({data:{framework:g.value}}).then((()=>{O()}))})},{title:p((()=>[k])),default:p((()=>[v(s,{type:"primary",style:{"margin-left":"20px","margin-top":"20px"},"html-type":"submit"},{default:p((()=>[w])),_:1})])),_:1}),v(s,{onClick:O,style:{"margin-top":"20px","margin-left":"20px"}},{default:p((()=>[C])),_:1})])])])),_:1},8,["modalVisible"])}}},D={class:"page-overview"},H=["innerHTML"],M={__name:"index",setup(a){const l=n({panel_count:0,env_count:0,user_count:0,vip_user_count:0,to_day_integral:0,to_day_upload_count:0}),s=n({}),c=n({}),x=n(!1),h=()=>{x.value=!0,c.value=s.value},L=()=>{i().then((e=>{s.value=e,e.LocVersion!==e.Version&&y.info({message:"温馨提示",duration:5,description:"有更新可用",onClick:h})})),o().then((e=>{l.value=e}))};return(a,i)=>{const o=_("a-descriptions-item"),n=_("a-descriptions"),y=_("a-col"),V=_("a-row"),k=_("a-divider"),w=_("a-button");return u(),b(j,null,[v(O,{visible:x.value,"onUpdate:visible":i[0]||(i[0]=e=>x.value=e),dataObj:c.value},null,8,["visible","dataObj"]),v(e,{onInitData:L,isScroll:""},{top:p((()=>[d("div",D,[v(V,{gutter:16},{default:p((()=>[v(y,{span:12},{default:p((()=>[v(n,{title:"当前生效的面板数量"},{default:p((()=>[v(o,{label:""},{default:p((()=>[v(t,{num:l.value.panel_count},null,8,["num"])])),_:1})])),_:1})])),_:1}),v(y,{span:12},{default:p((()=>[v(n,{title:"当前生效的变量数量"},{default:p((()=>[v(o,{label:""},{default:p((()=>[v(t,{num:l.value.env_count},null,8,["num"])])),_:1})])),_:1})])),_:1})])),_:1}),v(V,{gutter:16},{default:p((()=>[v(y,{span:12},{default:p((()=>[v(n,{title:"网站注册用户数量"},{default:p((()=>[v(o,{label:""},{default:p((()=>[v(t,{num:l.value.user_count},null,8,["num"])])),_:1})])),_:1})])),_:1}),v(y,{span:12},{default:p((()=>[v(n,{title:"网站会员用户数量"},{default:p((()=>[v(o,{label:""},{default:p((()=>[v(t,{num:l.value.vip_user_count},null,8,["num"])])),_:1})])),_:1})])),_:1})])),_:1}),v(V,{gutter:16},{default:p((()=>[v(y,{span:12},{default:p((()=>[v(n,{title:"今日消费积分数量"},{default:p((()=>[v(o,{label:""},{default:p((()=>[v(t,{num:l.value.to_day_integral},null,8,["num"])])),_:1})])),_:1})])),_:1}),v(y,{span:12},{default:p((()=>[v(n,{title:"今日上传变量数量"},{default:p((()=>[v(o,{label:""},{default:p((()=>[v(t,{num:l.value.to_day_upload_count},null,8,["num"])])),_:1})])),_:1})])),_:1})])),_:1}),v(n,{title:"公告"},{default:p((()=>[v(o,{label:"",class:"ant-descriptions-item-block"},{default:p((()=>[d("div",{innerHTML:s.value.Notice},null,8,H),v(k,{style:{padding:"5px 0"}}),f(" 程序版本："+m(s.value.LocVersion)+" ",1),s.value.LocVersion!==s.value.Version?(u(),r(w,{key:0,type:"link",danger:"",onClick:h},{default:p((()=>[f("【有最新版本可用，最新版本："+m(s.value.Version)+"】",1)])),_:1})):g("",!0)])),_:1})])),_:1})])])),_:1})],64)}}};export{M as default};
